<html>

<head>
  <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700&display=swap" rel="stylesheet">
  <style>
    html,
    body {
      font-family: 'Roboto Condensed', sans-serif;
    }

    header,
    footer {
      text-align: center;
    }

    .container {
      max-width: 800px;
      margin: 0px auto;
    }

    h1 {
      margin-top: 0;
      margin-bottom: 25px;
    }

    tr {
      text-align: left;
    }

    .text-left {
      text-align: left;
    }

    footer {
      padding: 10px 0px;
      border-top: 1px solid #000;
    }

    .copy-san {
      text-align: center;
    }

    .qrcode{

    }

    body {
  background: rgb(256,256,256); 
}
page {
  background: white;
  display: block;
  margin: 0 auto;
  margin-bottom: 0.5cm;
  box-shadow: 0 0 0.5cm rgba(0,0,0,0.5);
}
page[size="A4"] {  
  width: 21cm;
  height: 29.7cm; 
}
page[size="A4"][layout="portrait"] {
  margin-top: 16mm;
  width: 297mm;
  height: 14mm;  
}
@media print {
  body, page {
    margin: 0;
    box-shadow: 0;
  }

}

td {
  height: 65px;
}

th, td {
  padding: 10px;
}

tr    
{ 
  page-break-inside:avoid; 
  page-break-after:auto;
}

  </style>
</head>

<body>
  <div class="container">
    <div class="table-container">
      <table style="width:100%">
        <tbody>
        </tbody>
      </table>
    </div>
    <footer>
    </footer>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/JsBarcode.all.min.js"></script>
  <script>
    function readJSON(file) {
      var request = new XMLHttpRequest();
      request.open('GET', file, false);
      request.send(null);
      if (request.status == 200)
        return request.responseText;
    };

    function createTableDom(tableData) {
      var tableRow = [];
      tableData.forEach(function (row, index) {
        if ((index % 2) != 0) {
          tableRow.push('<td style="width: 65mm;" >' + createLabel(row, index) + "</td></tr>");
        } else {
          tableRow.push('<tr><td style="width: 65mm;" >' + createLabel(row, index) + '</td>');
        }
      });

      return tableRow;
    }

    function createLabel(row, index) {
      var labeltable =
        '<table style="width:100%">  <tbody>\
        <tr><td colspan="2" align="center"><img src="https://chart.googleapis.com/chart?cht=qr&choe=UTF-8&chs=100x100&chl=https%3A%2F%2Fthedivinesenses.com%2Ftrust%3Fuuid%3D'+row.UUID+'"/>'+row.SrlNo+'</td></tr> <tr><td>Batch No :' + row.BatchNo + '</td><td>Quantity :' + row.Quantity +
        '<br> (pieces of Diya inside the box)</td></tr><tr><td>Mfd: ' + row.DateOfPackaging + '</td><td>MRP: â‚¹' + row.MRP + '/-<br>(Inclusive of all taxes) </td></tr>';
      labeltable = labeltable + '</tbody></table>';
      return labeltable;
    }

    function generateBarcode() {
      var svgElement = document.getElementsByTagName('svg');
      for (var i = 0; i < svgElement.length; i++) {
        var barCode = svgElement[i].getAttribute('data-upc');
        JsBarcode(svgElement[i], barCode, {
          height: 40
        });
      }
    }

      var jsonUrl = './sample.json';
      console.log(jsonUrl);
      var data = readJSON(jsonUrl);
      var dataObj = JSON.parse(data);
      // if(dataObj) {
      var tableRowData = createTableDom(dataObj);
      var tbody = document.getElementsByTagName('tbody')[0];

      tbody.innerHTML = tableRowData.join('');
  </script>
</body>

</html>