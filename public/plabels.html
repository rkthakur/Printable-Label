<html>

<head>
  <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/paper-css/0.3.0/paper.css">
  <style>@page { size: A4 }</style>

  <style>
    #labels {
      display: flex;
      flex-wrap: wrap;
    }
    .label {
      flex: 0 0 47%;
      text-align: center;
      padding: 10px;
      margin-bottom: 5px;
      font-size: 12px;
    }
    h2 {
      margin: 0;
      font-size: 20px;
    }
    .padding-5mm {
      padding: 5mm;
    }
    .d-flex {
      display: flex;
      align-items: center;
    }
    .align-left {
      text-align: left;
    }
  </style>

</head>

<body class="A4">
  <!-- <div id="labels"> -->
  <section class="sheet padding-10mm">
    <div id="labels"></div>
  </section>
  <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/JsBarcode.all.min.js"></script>
  <script>
    function readJSON(file) {
      var request = new XMLHttpRequest();
      request.open('GET', file, false);
      request.send(null);
      if (request.status == 200)
        return request.responseText;
    };

    function createTableDom(labelData) {
      var divRow = [];
      labelData.forEach(function (row, index) {
        divRow.push(createLabel(row, index));
      });

      return divRow;
    }

    function createLabel(row, index) {

    var labeltable = `
      <div class="label">
        <h2>The Product</h2>
        <div class="d-flex">
          <div>
            <img
              src="https://chart.googleapis.com/chart?cht=qr&choe=UTF-8&chs=100x100&chl=https%3A%2F%2Fthedivinesenses.com%2Ftrust%3Fuuid%3D${row.UUID}" />
          </div>
          <div class="align-left">
            Batch No: 2323232
            <br>Product: eleVate Divine Diya
            <br> Manufactuting Date: 10/10/2020
            <br> MRP: 1000 (includive of all taxes)
            <br> Quantity: 5 pieces inside the box
          </div>
        </div>
        <p>Please scan QR Code and visit our website to know more about this product. </p>
        <div align="right">100002</div>
      </div>
    `;

      return labeltable;
    }

      var jsonUrl = '/public/data/sample.json';
      console.log(jsonUrl);
      var data = readJSON(jsonUrl);
      var dataObj = JSON.parse(data);
      // if(dataObj) {
      var divRowData = createTableDom(dataObj);
      var ldiv = document.getElementById("labels").innerHTML=divRowData.join('');
  </script>
</body>

</html>